const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/Home.Chjujthe.js","js/react-vendor.DD48japz.js","js/router-vendor.BSCq3k-W.js","js/About.zM8exyE9.js","js/Products.DU4hYnxT.js","js/Contact.Dzz666VN.js","js/Dashboard.uEO4Rh4r.js"])))=>i.map(i=>d[i]);
import{r as e,a as t,b as n}from"./react-vendor.DD48japz.js";import{B as r,u as o,a,R as s,b as i,L as c}from"./router-vendor.BSCq3k-W.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var l={exports:{}},d={},u=e,m=Symbol.for("react.element"),p=Symbol.for("react.fragment"),_=Object.prototype.hasOwnProperty,h=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var r,o={},a=null,s=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(s=t.ref),t)_.call(t,r)&&!f.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:m,type:e,key:a,ref:s,props:o,_owner:h.current}}d.Fragment=p,d.jsx=j,d.jsxs=j,l.exports=d;var x=l.exports,b={},v=t;b.createRoot=v.createRoot,b.hydrateRoot=v.hydrateRoot;var E={};
/*!
 * vite-plugin-qiankun.js v1.0.14
 * (c) 2021-2022 Teng Mao Qing
 * Released under the MIT License.
 */Object.defineProperty(E,"__esModule",{value:!0});var y="undefined"!=typeof window?window.proxy||window:{},N=function(e){(null==y?void 0:y.__POWERED_BY_QIANKUN__)&&(window.moudleQiankunAppLifeCycles||(window.moudleQiankunAppLifeCycles={}),y.qiankunName&&(window.moudleQiankunAppLifeCycles[y.qiankunName]=e))};E.default=N;var w=E.qiankunWindow=y,g=E.renderWithQiankun=N;if(window.__POWERED_BY_QIANKUN__){const e=window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__||"/";"undefined"!=typeof __webpack_public_path__&&(__webpack_public_path__=e)}const P={},A=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=e?.nonce||e?.getAttribute("nonce");r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/react/"+e}(e))in P)return;P[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,n&&o.setAttribute("nonce",n),document.head.appendChild(o),t?new Promise((t,n)=>{o.addEventListener("load",t),o.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})},O=e.lazy(()=>A(()=>import("./Home.Chjujthe.js"),__vite__mapDeps([0,1,2]))),k=e.lazy(()=>A(()=>import("./About.zM8exyE9.js"),__vite__mapDeps([3,1,2]))),R=e.lazy(()=>A(()=>import("./Products.DU4hYnxT.js"),__vite__mapDeps([4,1,2]))),S=e.lazy(()=>A(()=>import("./Contact.Dzz666VN.js"),__vite__mapDeps([5,1,2]))),L=e.lazy(()=>A(()=>import("./Dashboard.uEO4Rh4r.js"),__vite__mapDeps([6,1,2])));function C({routerBase:t}){const[n,o]=e.useState(!1),a=w.__POWERED_BY_QIANKUN__?t||"/react":"/";return e.useEffect(()=>{const e=()=>{const e=document.documentElement.getAttribute("data-theme");o("dark"===e)};e();const t=new MutationObserver(()=>{e()});return t.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>t.disconnect()},[]),x.jsxs("div",{className:"sub-app "+(n?"dark-mode":""),children:[x.jsxs("div",{className:"sub-app-header",children:[x.jsx("h2",{children:"React 子应用"}),x.jsx("p",{children:"这是一个使用 vite-plugin-qiankun 接入的 React 子应用"})]}),x.jsx(r,{basename:a,children:x.jsx(e.Suspense,{fallback:x.jsx(I,{}),children:x.jsx(B,{routerBase:t})})})]})}function I(){return x.jsx("div",{className:"sub-app-content",children:x.jsx("div",{className:"sub-content fullLoadingContainer",children:x.jsxs("div",{className:"loadingContent",children:[x.jsx("div",{className:"fullLoadingSpinner"}),x.jsx("p",{className:"loadingText",children:"加载中..."})]})})})}function B({routerBase:t}){const n=o(),r=a(),l=w.__POWERED_BY_QIANKUN__;function d({to:e,children:t}){const r=n.pathname===e||n.pathname===`${e}/`;return x.jsx(c,{to:e,className:"nav-item "+(r?"active":""),children:t})}return e.useEffect(()=>{if(l&&t){n.pathname}},[n.pathname,t,l]),e.useEffect(()=>{if(l){const e=w.location.pathname,o=t||"/react";if(e.startsWith(o)&&e!==o){const t=e.replace(o,"");t&&t!==n.pathname&&r(t)}}},[l,t,r,n.pathname]),x.jsxs("div",{className:"sub-app-content",children:[x.jsxs("nav",{className:"sub-nav",children:[x.jsx(d,{to:"/home",children:"首页"}),x.jsx(d,{to:"/dashboard",children:"数据看板"}),x.jsx(d,{to:"/products",children:"产品列表"}),x.jsx(d,{to:"/about",children:"关于"}),x.jsx(d,{to:"/contact",children:"联系我们"})]}),x.jsx("div",{className:"sub-content",children:x.jsx(e.Suspense,{fallback:x.jsx("div",{className:"loadingContainer",children:x.jsxs("div",{className:"loadingContent",children:[x.jsx("div",{className:"loadingSpinner"}),x.jsx("p",{className:"loadingText",children:"加载中..."})]})}),children:x.jsxs(s,{children:[x.jsx(i,{path:"/home",element:x.jsx(O,{})}),x.jsx(i,{path:"/dashboard",element:x.jsx(L,{})}),x.jsx(i,{path:"/products",element:x.jsx(R,{})}),x.jsx(i,{path:"/about",element:x.jsx(k,{})}),x.jsx(i,{path:"/contact",element:x.jsx(S,{})}),x.jsx(i,{path:"/",element:x.jsx(O,{})}),x.jsx(i,{path:"*",element:x.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[x.jsx("h3",{children:"404 - 页面未找到"}),x.jsxs("p",{children:["当前路径: ",n.pathname]}),x.jsxs("p",{children:["完整路径: ",w.location.pathname]}),x.jsx("p",{children:"请检查路由配置"})]})})]})})})]})}let D=null;function T(e={}){const{container:t,routerBase:r}=e;let o;t?(o=t.querySelector("#root"),o||(o=document.createElement("div"),o.id="root",t.appendChild(o))):o=document.querySelector("#root"),o&&(D&&(D.unmount(),D=null),D=b.createRoot(o),D.render(x.jsx(n.StrictMode,{children:x.jsx(C,{routerBase:r})})))}g({mount(e){if(T(e),e.onGlobalStateChange&&e.onGlobalStateChange((e,t)=>{void 0!==e.theme&&document.documentElement.setAttribute("data-theme",e.theme)},!0),e.getGlobalState){const t=e.getGlobalState();t.theme&&document.documentElement.setAttribute("data-theme",t.theme)}},bootstrap(){},unmount(){D&&(D.unmount(),D=null)}}),w.__POWERED_BY_QIANKUN__||T({routerBase:"/"});export{x as j};
